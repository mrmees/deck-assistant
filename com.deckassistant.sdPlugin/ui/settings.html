<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Deck Assistant - Settings</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <div class="section">
        <div class="section-title">Home Assistant Connection</div>

        <div class="connection-status">
            <span id="status-indicator" class="status-dot disconnected"></span>
            <span id="status-text">Disconnected</span>
        </div>

        <div class="field">
            <label for="ha-url">Home Assistant URL</label>
            <input type="text" id="ha-url" placeholder="http://192.168.1.254:8123">
        </div>

        <div class="field">
            <label for="ha-token">Access Token</label>
            <input type="password" id="ha-token" placeholder="Long-lived access token">
        </div>

        <div class="field button-row">
            <button id="connect-btn" class="btn-primary">Connect</button>
            <button id="disconnect-btn" class="btn-secondary" style="display: none;">Disconnect</button>
        </div>

        <div id="connection-error" class="error-message"></div>

        <div class="help-text">
            <p><strong>How to get an access token:</strong></p>
            <ol>
                <li>Open Home Assistant</li>
                <li>Click your profile (bottom left)</li>
                <li>Scroll to "Long-Lived Access Tokens"</li>
                <li>Click "Create Token"</li>
                <li>Copy and paste the token above</li>
            </ol>
        </div>
    </div>

    <div class="section">
        <div class="section-title">Profile Generator</div>

        <div class="field">
            <button id="open-editor-btn" class="btn-primary">Open Style Editor</button>
        </div>
        <div class="help-text-inline">
            Opens the style editor in a new window.
        </div>

        <div class="field" style="margin-top: 12px;">
            <label for="editor-window-size">Editor Window Size</label>
            <select id="editor-window-size">
                <option value="1400x900">Standard (1400 x 900)</option>
                <option value="1600x1000" selected>Large (1600 x 1000)</option>
                <option value="1800x1050">Extra Large (1800 x 1050)</option>
                <option value="1920x1080">Full HD (1920 x 1080)</option>
            </select>
        </div>
        <div id="window-size-message" class="help-text-inline" style="color: #4caf50; display: none;">
            Window size updated. Restart Stream Deck to apply.
        </div>
    </div>

    <div class="section">
        <div class="section-title">Display Options</div>

        <div class="field">
            <label class="checkbox-label">
                <input type="checkbox" id="disable-sd-titles">
                <span>Don't use Stream Deck titles</span>
            </label>
            <div class="help-text-inline">
                Hides title options in Entity Button. Use when rendering titles on the icon itself.
            </div>
        </div>
    </div>

    <div class="section">
        <div class="section-title">About</div>
        <div class="help-text">
            <p><strong>Deck Assistant</strong> v0.1.0</p>
            <p>Control Home Assistant entities from your Stream Deck.</p>
            <p>Add "Entity Button" actions to control lights, switches, sensors, and more.</p>
        </div>
    </div>

    <script src="js/settings-pi.js"></script>
</body>
</html>
